/*!
 * ImageSet (1.0.0-beta1)
 *
 * This script file is needed for lazyloading imagesets,
 * generated with ImageSet for Kirby and rendering placeholder
 * effeccts
 *
 * Copyright (c) 2016 Fabian Michael <hallo@fabianmichael.de>
 * @license SEE LICENSE IN license.md
 *
 * This script also includes:
 *
 *   StackBlur 0.6
 *   Copyright (c) 2010 Mario Klingemann <mario@quasimondo.com>
 *   https://github.com/Quasimondo/QuasimondoJS
 *
 *   lazysizes 2.0.7 (with "static-gecko-picture" plugin)
 *   Copyright (C) 2015 Alexander Farkas, released under MIT license
 *   https://github.com/aFarkas/lazysizes
 * 
 */
!function(t,e,n){"use strict";function i(t,e,n,i,r,o,s,l){var u=t.getContext("2d"),c=u.getImageData(e,n,i,r);c=a(c,o,s,l),u.putImageData(c,e,n)}function a(t,e,n,i){var a,r,s,l,u,c,d,f,g,h,m,v,p,b,z,A,y,C,E,x,w,L,S,M,N,O=t.data,B=t.width,I=t.height,R=e+e+1,T=B-1,D=I-1,W=e+1,_=W*(W+1)/2,k=new o,P=k;for(s=1;s<R;s++)P=P.next=new o,s==W&&(N=P);P.next=k;var q=null,H=null;for(d=c=0,r=0;r<I;r++){for(A=y=C=E=f=g=h=m=0,v=W*(x=O[c]),p=W*(w=O[c+1]),b=W*(L=O[c+2]),z=W*(S=O[c+3]),f+=_*x,g+=_*w,h+=_*L,m+=_*S,P=k,s=0;s<W;s++)P.r=x,P.g=w,P.b=L,P.a=S,P=P.next;for(s=1;s<W;s++)l=c+((T<s?T:s)<<2),f+=(P.r=x=O[l])*(M=W-s),g+=(P.g=w=O[l+1])*M,h+=(P.b=L=O[l+2])*M,m+=(P.a=S=O[l+3])*M,A+=x,y+=w,C+=L,E+=S,P=P.next;for(q=k,H=N,a=0;a<B;a++)O[c]=f*n>>i,O[c+1]=g*n>>i,O[c+2]=h*n>>i,O[c+3]=m*n>>i,f-=v,g-=p,h-=b,m-=z,v-=q.r,p-=q.g,b-=q.b,z-=q.a,l=d+((l=a+e+1)<T?l:T)<<2,A+=q.r=O[l],y+=q.g=O[l+1],C+=q.b=O[l+2],E+=q.a=O[l+3],f+=A,g+=y,h+=C,m+=E,q=q.next,v+=x=H.r,p+=w=H.g,b+=L=H.b,z+=S=H.a,A-=x,y-=w,C-=L,E-=S,H=H.next,c+=4;d+=B}for(a=0;a<B;a++){for(y=C=E=A=g=h=m=f=0,c=a<<2,v=W*(x=O[c]),p=W*(w=O[c+1]),b=W*(L=O[c+2]),z=W*(S=O[c+3]),f+=_*x,g+=_*w,h+=_*L,m+=_*S,P=k,s=0;s<W;s++)P.r=x,P.g=w,P.b=L,P.a=S,P=P.next;for(u=B,s=1;s<=e;s++)c=u+a<<2,f+=(P.r=x=O[c])*(M=W-s),g+=(P.g=w=O[c+1])*M,h+=(P.b=L=O[c+2])*M,m+=(P.a=S=O[c+3])*M,A+=x,y+=w,C+=L,E+=S,P=P.next,s<D&&(u+=B);for(c=a,q=k,H=N,r=0;r<I;r++)l=c<<2,O[l+3]=S=m*n>>i,S>0?(S=255/S,O[l]=(f*n>>i)*S,O[l+1]=(g*n>>i)*S,O[l+2]=(h*n>>i)*S):O[l]=O[l+1]=O[l+2]=0,f-=v,g-=p,h-=b,m-=z,v-=q.r,p-=q.g,b-=q.b,z-=q.a,l=a+((l=r+W)<D?l:D)*B<<2,f+=A+=q.r=O[l],g+=y+=q.g=O[l+1],h+=C+=q.b=O[l+2],m+=E+=q.a=O[l+3],q=q.next,v+=x=H.r,p+=w=H.g,b+=L=H.b,z+=S=H.a,A-=x,y-=w,C-=L,E-=S,H=H.next,c+=B}return t}function r(t,e,n,i,a,r,s,l){var u,c,d,f,g,h,m,v,p,b,z,A,y,C,E,x,w,L,S,M,N,O=t.getContext("2d"),B=O.getImageData(e,n,i,a),I=B.data,R=r+r+1,T=i-1,D=a-1,W=r+1,_=W*(W+1)/2,k=new o,P=k;for(d=1;d<R;d++)P=P.next=new o,d==W&&(N=P);P.next=k;var q=null,H=null;for(m=h=0,c=0;c<a;c++){for(C=E=x=v=p=b=0,z=W*(w=I[h]),A=W*(L=I[h+1]),y=W*(S=I[h+2]),v+=_*w,p+=_*L,b+=_*S,P=k,d=0;d<W;d++)P.r=w,P.g=L,P.b=S,P=P.next;for(d=1;d<W;d++)f=h+((T<d?T:d)<<2),v+=(P.r=w=I[f])*(M=W-d),p+=(P.g=L=I[f+1])*M,b+=(P.b=S=I[f+2])*M,C+=w,E+=L,x+=S,P=P.next;for(q=k,H=N,u=0;u<i;u++)I[h]=v*s>>l,I[h+1]=p*s>>l,I[h+2]=b*s>>l,v-=z,p-=A,b-=y,z-=q.r,A-=q.g,y-=q.b,f=m+((f=u+r+1)<T?f:T)<<2,C+=q.r=I[f],E+=q.g=I[f+1],x+=q.b=I[f+2],v+=C,p+=E,b+=x,q=q.next,z+=w=H.r,A+=L=H.g,y+=S=H.b,C-=w,E-=L,x-=S,H=H.next,h+=4;m+=i}for(u=0;u<i;u++){for(E=x=C=p=b=v=0,h=u<<2,z=W*(w=I[h]),A=W*(L=I[h+1]),y=W*(S=I[h+2]),v+=_*w,p+=_*L,b+=_*S,P=k,d=0;d<W;d++)P.r=w,P.g=L,P.b=S,P=P.next;for(g=i,d=1;d<=r;d++)h=g+u<<2,v+=(P.r=w=I[h])*(M=W-d),p+=(P.g=L=I[h+1])*M,b+=(P.b=S=I[h+2])*M,C+=w,E+=L,x+=S,P=P.next,d<D&&(g+=i);for(h=u,q=k,H=N,c=0;c<a;c++)f=h<<2,I[f]=v*s>>l,I[f+1]=p*s>>l,I[f+2]=b*s>>l,v-=z,p-=A,b-=y,z-=q.r,A-=q.g,y-=q.b,f=u+((f=c+W)<D?f:D)*i<<2,v+=C+=q.r=I[f],p+=E+=q.g=I[f+1],b+=x+=q.b=I[f+2],q=q.next,z+=w=H.r,A+=L=H.g,y+=S=H.b,C-=w,E-=L,x-=S,H=H.next,h+=i}O.putImageData(B,e,n)}function o(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}t.stackBlur={canvasRGB:r,canvasRGBA:i}}(window,document),function(t,e,n,i,a){"use strict";function r(t){"loading"!=e.readyState?t():e[z]("DOMContentLoaded",t)}function o(t,e){var n=null;return function(){var i=this,a=arguments;clearTimeout(n),n=setTimeout(function(){t.apply(i,a)},e)}}function s(t,e){t.complete&&void 0!==t[E]&&0!==t[E]?e():t[z]("load",e)}function l(e,n){var i=t[C]||1,a=n.webkitBackingStorePixelRatio||1,r=i/a;if(i!==a){var o=e.width,s=e.height;e.width=o*r,e.height=s*r,n.scale(r,r)}return r}function u(t){var e=t[y].match(N);return!!e&&e[1]}var c="getElementsByClassName";if(e[c]){var d="imageset",f="is-loaded",g=d+" -placeholder",h="is-placeholder-rendered",m=d+"-element",v=d+"-placeholder",p=e.documentElement,b=navigator.userAgent,z="addEventListener",A="MutationObserver",y="className",C="devicePixelRatio",E="naturalWidth",x=t.requestAnimationFrame||function(t){setTimeout(t,1e3/60)},w=function(){function t(t){i.push(t),n()}function e(){i.shift()(),i.length?x(e):a=!1}function n(){a||(a=!0,x(e))}var i=[],a=!1;return{add:t}}(),L=function(){return p.classList?function(t,e){return t.classList.contains(e)}:function(t,e){return!!~t[y].split(/\s+/).indexOf(e)}}(),S=function(){return p.classList?function(t,e){t.classList.add(e)}:function(t,e){var n=t[y].split(/\s+/);~n.indexOf(e)||(n.push(e),t[y]=n.join(" "))}}();(function(){p.classList?function(t,e){return t.classList.remove(e)}:function(t,e){var n=t[y].split(/\s+/),i=n.indexOf(e);~i&&(n.splice(i,1),t[y]=n.join(" "))}})();if("[object OperaMini]"===Object.prototype.toString.call(t.operamini)){t.lazySizesConfig=t.lazySizesConfig||{},t.lazySizesConfig.init=!1,S(p,"operamini");var M=function(e){var n=e.getElementsByTagName("source"),i=e[c](m)[0];if(S(e,f),t.HTMLPictureElement){for(var a=0,r=n.length;a<r;a++){var o=n[a];o.hasAttribute("data-srcset")&&(o.srcset=o.getAttribute("data-srcset")),o.hasAttribute("data-src")&&(o.src=o.getAttribute("data-src"))}i.hasAttribute("data-srcset")&&(i.srcset=i.getAttribute("data-srcset")),i.hasAttribute("data-src")&&(i.src=i.getAttribute("data-src"))}else{for(var s=n.length>0?n[n.length-1]:i,l=s.getAttribute("data-srcset").split(/,\s+/);n.length>0;)n[0].parentNode.removeChild(n[0]);i.src=l.pop().replace(/\s+\d+[wx]$/,"")}};return void r(function(){for(var t=e[c](d),n=0,i=t.length;n<i;n++)M(t[n])})}var N=new RegExp("-placeholder:([a-z0-9_-]+)\\s*","i"),O={};if(t.CanvasRenderingContext2D){var B=b.indexOf("Safari")!==-1&&b.indexOf("Chrome")===-1;("imageRendering"in p.style||"msInterpolationMode"in p.style)&&!B||(O.mosaic=function(t){var n=e.createElement("canvas"),i=n.getContext("2d"),a=t[c](v)[0];s(a,function(){l(n,i);var e=a[E],r=a.naturalHeight,o=t.offsetWidth,s=t.offsetWidth/e*r+.5|0;n.width=o,n.height=s,i.mozImageSmoothingEnabled=!1,i.webkitImageSmoothingEnabled=!1,i.msImageSmoothingEnabled=!1,i.imageSmoothingEnabled=!1,n.setAttribute("aria-hidden",!0),n[y]=a[y],w.add(function(){i.drawImage(a,0,0,o,s),a.parentNode.replaceChild(n,a)})})});var I=function(t,n,i,a){var r=t[c](v)[0],o=function(){var o=r[E],s=r.naturalHeight,l=t.offsetWidth,u=t.offsetWidth/o*s+.5|0,c=e.createElement("canvas"),d=c.getContext("2d"),f=L(t,"-alpha");c.width=l,c.height=u,!f&&"mozOpaque"in c&&(c.mozOpaque=!0),c.setAttribute("aria-hidden",!0),c[y]=r[y],w.add(function(){d.drawImage(r,0,0,l,u),stackBlur[f?"canvasRGBA":"canvasRGB"](c,0,0,l,u,n,i,a),r.parentNode.replaceChild(c,r)})};s(r,function(){o()})};O.blurred=function(t){I(t,15,512,17)},O.lqip=function(t){I(t,7,512,15)};var R=function(t,e,i){i=!!i;var a=t.getContext("2d"),r=a.getImageData(0,0,t.width,t.height),o=r.data,s=r.width,u=r.height,c=s-1,d=u-1,f=n.round(e*(n.sqrt(3)/2)),g=f/2,h=e/2;l(t,a);var m,v,p,b,z,A,y,C,E,x,w,L,S,M,N,O,B,I=function(t,n,i,r){r=r||!1;var o=t+(r?0:f);a.beginPath(),a.moveTo(o,n+0),a.lineTo(t+(r?f:0),n+h),a.lineTo(o,n+e),a.fill(),a.closePath()},R=function(t,e){var n=e*s*4+4*t;return[o[n],o[n+1],o[n+2],o[n+3]]},T=function(t,e){return o[e*s*4+4*t+3]},D=function(t){for(var e=0,n=0,i=t.length;n<i;n++)e+=T(t[n][0],t[n][1]);return e/i},W=function(t){return"rgb("+t.slice(0,3).join(",")+")"},_=function(t){return t[3]/=255,"rgba("+t.join(",")+")"},k=function(t){return n.max(0,n.min(n.round(t),c))},P=function(t){return n.max(0,n.min(n.round(t),d))},q=n.ceil(s/f)+1,H=n.ceil(u/e)+1;if(i){for(v=0;v<H;v++)for(b=v*e,A=P(b+h),y=b-h,x=P(b),m=0;m<q;m++)p=m*f,M=m%2!=0,k(p),z=P(b),E=k(M?p+f-1:p),C=k(M?p:p+f-1),L=k(p+g),S=P(b+h),N=[[C,z],[E,S],[C,P(b+e-1)],[L,S],[L,S]],O=D(N)+.5|0,a.fillStyle=_([O,0,0,255]),a.fillRect(p,b,f,e),N=[[C,P(b-h)],[E,z],[C,P(b+h-1)],[L,z],[L,z]],O=D(N)+.5|0,a.fillStyle=_([O,0,0,255]),I(p,y,0,M);var F=a.getImageData(0,0,t.width,t.height),$=F.data,j=$.length;for(B=0;B<j;B+=4)$[B+3]=$[B];a.putImageData(F,0,0),a.globalCompositeOperation="source-atop"}for(v=0;v<H;v++)for(b=v*e,A=P(b+h),y=b-h,x=P(b),m=0;m<q;m++)p=m*f,w=k(p+g),M=m%2!=0,a.fillStyle=W(R(w,A)),a.fillRect(p,b,f,e),a.fillStyle=W(R(w,x)),I(p,y,0,M);i&&(a.globalCompositeOperation="source-over")};O.triangles=function(t){var i=t[c](v)[0],a=function(){var a=i[E],r=i.naturalHeight,o=t.offsetWidth,s=n.round(t.offsetWidth/a*r),l=e.createElement("canvas"),u=l.getContext("2d"),c=L(t,"-alpha");l.width=o,l.height=s,!c&&"mozOpaque"in l&&(l.mozOpaque=!0),l.setAttribute("aria-hidden",!0),l[y]=i[y],w.add(function(){u.drawImage(i,0,0,o,s),R(l,40,c),i.parentNode.replaceChild(l,i)})};s(i,function(){a()})}}r(function(){function n(){for(var t,e,n=0,i=a.length;n<i;n++)a[n]&&(e=a[n],L(e,h)||(t=u(e))&&O[t]&&(S(e,h),O[t](e)))}function i(){e[z]("lazybeforeunveil",function(t){var e=t.target,n=e.parentNode;if(L(e,m)){for(;!L(n,d);)n=n.parentNode;var i=function(){e.removeEventListener("load",i),x(function(){S(n,f)})};e[z]("load",i)}}),a=e[c](g),t[A]?new t[A](r).observe(p,{childList:!0,subtree:!0,attributes:!1,characterData:!1}):(p[z]("DOMNodeInserted",r,!0),p[z]("DOMAttrModified",r,!0),setInterval(r,999)),t[z]("hashchange",r,!0),r()}var a,r=o(n);return{init:i}}().init)}}(window,document,Math,Date),function(t){var e=navigator.userAgent;t.HTMLPictureElement&&/ecko/.test(e)&&e.match(/rv\:(\d+)/)&&RegExp.$1<41&&addEventListener("resize",function(){var e,n=document.createElement("source"),i=function(t){var e,i,a=t.parentNode;"PICTURE"===a.nodeName.toUpperCase()?(e=n.cloneNode(),a.insertBefore(e,a.firstElementChild),setTimeout(function(){a.removeChild(e)})):(!t._pfLastSize||t.offsetWidth>t._pfLastSize)&&(t._pfLastSize=t.offsetWidth,i=t.sizes,t.sizes+=",100vw",setTimeout(function(){t.sizes=i}))},a=function(){var t,e=document.querySelectorAll("picture > img, img[srcset][sizes]");for(t=0;t<e.length;t++)i(e[t])},r=function(){clearTimeout(e),e=setTimeout(a,99)},o=t.matchMedia&&matchMedia("(orientation: landscape)"),s=function(){r(),o&&o.addListener&&o.addListener(r)};return n.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?s():document.addEventListener("DOMContentLoaded",s),r}())}(window),function(t){"use strict";var e,n,i,a;t.addEventListener&&(e=t.lazySizes&&lazySizes.cfg||t.lazySizesConfig||{},n=e.lazyClass||"lazyload",i=function(){var e,i;if("string"==typeof n&&(n=document.getElementsByClassName(n)),t.lazySizes)for(e=0,i=n.length;e<i;e++)lazySizes.loader.unveil(n[e])},addEventListener("beforeprint",i,!1),!("onbeforeprint"in t)&&t.matchMedia&&(a=matchMedia("print"))&&a.addListener&&a.addListener(function(){a.matches&&i()}))}(window),function(t,e){var n=function(t,e){"use strict";if(e.getElementsByClassName){var n,i=e.documentElement,a=t.Date,r=t.HTMLPictureElement,o=t.addEventListener,s=t.setTimeout,l=t.requestAnimationFrame||s,u=t.requestIdleCallback,c=/^picture$/i,d=["load","error","lazyincluded","_lazyloaded"],f={},g=Array.prototype.forEach,h=function(t,e){return f[e]||(f[e]=new RegExp("(\\s|^)"+e+"(\\s|$)")),f[e].test(t.getAttribute("class")||"")&&f[e]},m=function(t,e){h(t,e)||t.setAttribute("class",(t.getAttribute("class")||"").trim()+" "+e)},v=function(t,e){var n;(n=h(t,e))&&t.setAttribute("class",(t.getAttribute("class")||"").replace(n," "))},p=function(t,e,n){var i=n?"addEventListener":"removeEventListener";n&&p(t,e),d.forEach(function(n){t[i](n,e)})},b=function(t,n,i,a,r){var o=e.createEvent("CustomEvent");return o.initCustomEvent(n,!a,!r,i||{}),t.dispatchEvent(o),o},z=function(e,i){var a;!r&&(a=t.picturefill||n.pf)?a({reevaluate:!0,elements:[e]}):i&&i.src&&(e.src=i.src)},A=function(t,e){return(getComputedStyle(t,null)||{})[e]},y=function(t,e,i){for(i=i||t.offsetWidth;i<n.minSize&&e&&!t._lazysizesWidth;)i=e.offsetWidth,e=e.parentNode;return i},C=function(){var t,n,i=[],a=function(){var e;for(t=!0,n=!1;i.length;)e=i.shift(),e[0].apply(e[1],e[2]);t=!1},r=function(r){t?r.apply(this,arguments):(i.push([r,this,arguments]),n||(n=!0,(e.hidden?s:l)(a)))};return r._lsFlush=a,r}(),E=function(t,e){return e?function(){C(t)}:function(){var e=this,n=arguments;C(function(){t.apply(e,n)})}},x=function(t){var e,n=0,i=666,r=function(){e=!1,n=a.now(),t()},o=u?function(){u(r,{timeout:i}),666!==i&&(i=666)}:E(function(){s(r)},!0);return function(t){var r;(t=t===!0)&&(i=44),e||(e=!0,r=125-(a.now()-n),r<0&&(r=0),t||r<9&&u?o():s(o,r))}},w=function(t){var e,n,i=function(){e=null,t()},r=function(){var t=a.now()-n;t<99?s(r,99-t):(u||i)(i)};return function(){n=a.now(),e||(e=s(r,99))}},L=function(){var r,l,u,d,f,y,L,M,N,O,B,I,R,T,D,W=/^img$/i,_=/^iframe$/i,k="onscroll"in t&&!/glebot/.test(navigator.userAgent),P=0,q=0,H=-1,F=function(t){q--,t&&t.target&&p(t.target,F),(!t||q<0||!t.target)&&(q=0)},$=function(t,n){var a,r=t,o="hidden"==A(e.body,"visibility")||"hidden"!=A(t,"visibility");for(N-=n,I+=n,O-=n,B+=n;o&&(r=r.offsetParent)&&r!=e.body&&r!=i;)(o=(A(r,"opacity")||1)>0)&&"visible"!=A(r,"overflow")&&(a=r.getBoundingClientRect(),o=B>a.left&&O<a.right&&I>a.top-1&&N<a.bottom+1);return o},j=function(){var t,a,o,s,c,d,g,h,m;if((f=n.loadMode)&&q<8&&(t=r.length)){a=0,H++,null==T&&("expand"in n||(n.expand=i.clientHeight>500&&i.clientWidth>500?500:370),R=n.expand,T=R*n.expFactor),P<T&&q<1&&H>2&&f>2&&!e.hidden?(P=T,H=0):P=f>1&&H>1&&q<6?R:0;for(;a<t;a++)if(r[a]&&!r[a]._lazyRace)if(k)if((h=r[a].getAttribute("data-expand"))&&(d=1*h)||(d=P),m!==d&&(L=innerWidth+d*D,M=innerHeight+d,g=d*-1,m=d),o=r[a].getBoundingClientRect(),(I=o.bottom)>=g&&(N=o.top)<=M&&(B=o.right)>=g*D&&(O=o.left)<=L&&(I||B||O||N)&&(u&&q<3&&!h&&(f<3||H<4)||$(r[a],d))){if(Y(r[a]),c=!0,q>9)break}else!c&&u&&!s&&q<4&&H<4&&f>2&&(l[0]||n.preloadAfterLoad)&&(l[0]||!h&&(I||B||O||N||"auto"!=r[a].getAttribute(n.sizesAttr)))&&(s=l[0]||r[a]);else Y(r[a]);s&&!c&&Y(s)}},G=x(j),U=function(t){m(t.target,n.loadedClass),v(t.target,n.loadingClass),p(t.target,Q)},K=E(U),Q=function(t){K({target:t.target})},J=function(t,e){try{t.contentWindow.location.replace(e)}catch(n){t.src=e}},V=function(t){var e,i,a=t.getAttribute(n.srcsetAttr);(e=n.customMedia[t.getAttribute("data-media")||t.getAttribute("media")])&&t.setAttribute("media",e),a&&t.setAttribute("srcset",a),e&&(i=t.parentNode,i.insertBefore(t.cloneNode(),t),i.removeChild(t))},X=E(function(t,e,i,a,r){var o,l,u,f,h,A;(h=b(t,"lazybeforeunveil",e)).defaultPrevented||(a&&(i?m(t,n.autosizesClass):t.setAttribute("sizes",a)),l=t.getAttribute(n.srcsetAttr),o=t.getAttribute(n.srcAttr),r&&(u=t.parentNode,f=u&&c.test(u.nodeName||"")),A=e.firesLoad||"src"in t&&(l||o||f),h={target:t},A&&(p(t,F,!0),clearTimeout(d),d=s(F,2500),m(t,n.loadingClass),p(t,Q,!0)),f&&g.call(u.getElementsByTagName("source"),V),l?t.setAttribute("srcset",l):o&&!f&&(_.test(t.nodeName)?J(t,o):t.src=o),(l||f)&&z(t,{src:o})),C(function(){t._lazyRace&&delete t._lazyRace,v(t,n.lazyClass),A&&!t.complete||(A?F(h):q--,U(h))})}),Y=function(t){var e,i=W.test(t.nodeName),a=i&&(t.getAttribute(n.sizesAttr)||t.getAttribute("sizes")),r="auto"==a;(!r&&u||!i||!t.src&&!t.srcset||t.complete||h(t,n.errorClass))&&(e=b(t,"lazyunveilread").detail,r&&S.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,q++,X(t,e,r,a,i))},Z=function(){if(!u){if(a.now()-y<999)return void s(Z,999);var t=w(function(){n.loadMode=3,G()});u=!0,n.loadMode=3,G(),o("scroll",function(){3==n.loadMode&&(n.loadMode=2),t()},!0)}};return{_:function(){y=a.now(),r=e.getElementsByClassName(n.lazyClass),l=e.getElementsByClassName(n.lazyClass+" "+n.preloadClass),D=n.hFac,o("scroll",G,!0),o("resize",G,!0),t.MutationObserver?new MutationObserver(G).observe(i,{childList:!0,subtree:!0,attributes:!0}):(i.addEventListener("DOMNodeInserted",G,!0),i.addEventListener("DOMAttrModified",G,!0),setInterval(G,999)),o("hashchange",G,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(t){e.addEventListener(t,G,!0)}),/d$|^c/.test(e.readyState)?Z():(o("load",Z),e.addEventListener("DOMContentLoaded",G),s(Z,2e4)),r.length?j():G()},checkElems:G,unveil:Y}}(),S=function(){var t,i=E(function(t,e,n,i){var a,r,o;if(t._lazysizesWidth=i,i+="px",t.setAttribute("sizes",i),c.test(e.nodeName||""))for(a=e.getElementsByTagName("source"),r=0,o=a.length;r<o;r++)a[r].setAttribute("sizes",i);n.detail.dataAttr||z(t,n.detail)}),a=function(t,e,n){var a,r=t.parentNode;r&&(n=y(t,r,n),a=b(t,"lazybeforesizes",{width:n,dataAttr:!!e}),a.defaultPrevented||(n=a.detail.width)&&n!==t._lazysizesWidth&&i(t,r,a,n))},r=function(){var e,n=t.length;if(n)for(e=0;e<n;e++)a(t[e])},s=w(r);return{_:function(){t=e.getElementsByClassName(n.autosizesClass),o("resize",s)},checkElems:s,updateElem:a}}(),M=function(){M.i||(M.i=!0,S._(),L._())};return function(){var e,i={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2};n=t.lazySizesConfig||t.lazysizesConfig||{};for(e in i)e in n||(n[e]=i[e]);t.lazySizesConfig=n,s(function(){n.init&&M()})}(),{cfg:n,autoSizer:S,loader:L,init:M,uP:z,aC:m,rC:v,hC:h,fire:b,gW:y,rAF:C}}}(t,t.document);t.lazySizes=n,"object"==typeof module&&module.exports&&(module.exports=n)}(window);