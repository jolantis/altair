/*!
 * ImageSet (1.0.0-beta1)
 *
 * This script file is needed for lazyloading imagesets,
 * generated with ImageSet for Kirby and rendering placeholder
 * effeccts
 *
 * Copyright (c) 2016 Fabian Michael <hallo@fabianmichael.de>
 * @license SEE LICENSE IN license.md
 *
 * This script also includes:
 *
 *   StackBlur 0.6
 *   Copyright (c) 2010 Mario Klingemann <mario@quasimondo.com>
 *   https://github.com/Quasimondo/QuasimondoJS
 *
 *   lazysizes 2.0.7 (with "static-gecko-picture" plugin)
 *   Copyright (C) 2015 Alexander Farkas, released under MIT license
 *   https://github.com/aFarkas/lazysizes
 * 
 */
!function(t,e,n){"use strict";function a(t,e,n,a,r,o,s,l){var c=t.getContext("2d"),d=c.getImageData(e,n,a,r);d=i(d,o,s,l),c.putImageData(d,e,n)}function i(t,e,n,a){var i,r,s,l,c,d,u,f,g,m,h,v,p,b,z,A,y,C,E,x,w,L,N,S,M,O=t.data,B=t.width,W=t.height,I=e+e+1,R=B-1,T=W-1,D=e+1,_=D*(D+1)/2,k=new o,P=k;for(s=1;s<I;s++)P=P.next=new o,s==D&&(M=P);P.next=k;var q=null,H=null;for(u=d=0,r=0;r<W;r++){for(A=y=C=E=f=g=m=h=0,v=D*(x=O[d]),p=D*(w=O[d+1]),b=D*(L=O[d+2]),z=D*(N=O[d+3]),f+=_*x,g+=_*w,m+=_*L,h+=_*N,P=k,s=0;s<D;s++)P.r=x,P.g=w,P.b=L,P.a=N,P=P.next;for(s=1;s<D;s++)l=d+((R<s?R:s)<<2),f+=(P.r=x=O[l])*(S=D-s),g+=(P.g=w=O[l+1])*S,m+=(P.b=L=O[l+2])*S,h+=(P.a=N=O[l+3])*S,A+=x,y+=w,C+=L,E+=N,P=P.next;for(q=k,H=M,i=0;i<B;i++)O[d]=f*n>>a,O[d+1]=g*n>>a,O[d+2]=m*n>>a,O[d+3]=h*n>>a,f-=v,g-=p,m-=b,h-=z,v-=q.r,p-=q.g,b-=q.b,z-=q.a,l=u+((l=i+e+1)<R?l:R)<<2,A+=q.r=O[l],y+=q.g=O[l+1],C+=q.b=O[l+2],E+=q.a=O[l+3],f+=A,g+=y,m+=C,h+=E,q=q.next,v+=x=H.r,p+=w=H.g,b+=L=H.b,z+=N=H.a,A-=x,y-=w,C-=L,E-=N,H=H.next,d+=4;u+=B}for(i=0;i<B;i++){for(y=C=E=A=g=m=h=f=0,d=i<<2,v=D*(x=O[d]),p=D*(w=O[d+1]),b=D*(L=O[d+2]),z=D*(N=O[d+3]),f+=_*x,g+=_*w,m+=_*L,h+=_*N,P=k,s=0;s<D;s++)P.r=x,P.g=w,P.b=L,P.a=N,P=P.next;for(c=B,s=1;s<=e;s++)d=c+i<<2,f+=(P.r=x=O[d])*(S=D-s),g+=(P.g=w=O[d+1])*S,m+=(P.b=L=O[d+2])*S,h+=(P.a=N=O[d+3])*S,A+=x,y+=w,C+=L,E+=N,P=P.next,s<T&&(c+=B);for(d=i,q=k,H=M,r=0;r<W;r++)l=d<<2,O[l+3]=N=h*n>>a,N>0?(N=255/N,O[l]=(f*n>>a)*N,O[l+1]=(g*n>>a)*N,O[l+2]=(m*n>>a)*N):O[l]=O[l+1]=O[l+2]=0,f-=v,g-=p,m-=b,h-=z,v-=q.r,p-=q.g,b-=q.b,z-=q.a,l=i+((l=r+D)<T?l:T)*B<<2,f+=A+=q.r=O[l],g+=y+=q.g=O[l+1],m+=C+=q.b=O[l+2],h+=E+=q.a=O[l+3],q=q.next,v+=x=H.r,p+=w=H.g,b+=L=H.b,z+=N=H.a,A-=x,y-=w,C-=L,E-=N,H=H.next,d+=B}return t}function r(t,e,n,a,i,r,s,l){var c,d,u,f,g,m,h,v,p,b,z,A,y,C,E,x,w,L,N,S,M,O=t.getContext("2d"),B=O.getImageData(e,n,a,i),W=B.data,I=r+r+1,R=a-1,T=i-1,D=r+1,_=D*(D+1)/2,k=new o,P=k;for(u=1;u<I;u++)P=P.next=new o,u==D&&(M=P);P.next=k;var q=null,H=null;for(h=m=0,d=0;d<i;d++){for(C=E=x=v=p=b=0,z=D*(w=W[m]),A=D*(L=W[m+1]),y=D*(N=W[m+2]),v+=_*w,p+=_*L,b+=_*N,P=k,u=0;u<D;u++)P.r=w,P.g=L,P.b=N,P=P.next;for(u=1;u<D;u++)f=m+((R<u?R:u)<<2),v+=(P.r=w=W[f])*(S=D-u),p+=(P.g=L=W[f+1])*S,b+=(P.b=N=W[f+2])*S,C+=w,E+=L,x+=N,P=P.next;for(q=k,H=M,c=0;c<a;c++)W[m]=v*s>>l,W[m+1]=p*s>>l,W[m+2]=b*s>>l,v-=z,p-=A,b-=y,z-=q.r,A-=q.g,y-=q.b,f=h+((f=c+r+1)<R?f:R)<<2,C+=q.r=W[f],E+=q.g=W[f+1],x+=q.b=W[f+2],v+=C,p+=E,b+=x,q=q.next,z+=w=H.r,A+=L=H.g,y+=N=H.b,C-=w,E-=L,x-=N,H=H.next,m+=4;h+=a}for(c=0;c<a;c++){for(E=x=C=p=b=v=0,m=c<<2,z=D*(w=W[m]),A=D*(L=W[m+1]),y=D*(N=W[m+2]),v+=_*w,p+=_*L,b+=_*N,P=k,u=0;u<D;u++)P.r=w,P.g=L,P.b=N,P=P.next;for(g=a,u=1;u<=r;u++)m=g+c<<2,v+=(P.r=w=W[m])*(S=D-u),p+=(P.g=L=W[m+1])*S,b+=(P.b=N=W[m+2])*S,C+=w,E+=L,x+=N,P=P.next,u<T&&(g+=a);for(m=c,q=k,H=M,d=0;d<i;d++)f=m<<2,W[f]=v*s>>l,W[f+1]=p*s>>l,W[f+2]=b*s>>l,v-=z,p-=A,b-=y,z-=q.r,A-=q.g,y-=q.b,f=c+((f=d+D)<T?f:T)*a<<2,v+=C+=q.r=W[f],p+=E+=q.g=W[f+1],b+=x+=q.b=W[f+2],q=q.next,z+=w=H.r,A+=L=H.g,y+=N=H.b,C-=w,E-=L,x-=N,H=H.next,m+=a}O.putImageData(B,e,n)}function o(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}t.stackBlur={canvasRGB:r,canvasRGBA:a}}(window,document),function(t,e,n,a,i){"use strict";function r(t,e){var n=null;return function(){var a=this,i=arguments;clearTimeout(n),n=setTimeout(function(){t.apply(a,i)},e)}}function o(t,e){t.complete&&void 0!==t.naturalWidth&&0!==t.naturalWidth?e():t.addEventListener("load",e)}function s(e,n){var a=t.devicePixelRatio||1,i=n.webkitBackingStorePixelRatio||1,r=a/i;if(a!==i){var o=e.width,s=e.height;e.width=o*r,e.height=s*r,n.scale(r,r)}return r}function l(t){var e=t.className.match(E);return!!e&&e[1]}var c="getElementsByClassName";if(e[c]){var d="imageset",u="is-loaded",f=d+" -placeholder",g="is-placeholder-rendered",m=d+"-element",h=d+"-placeholder",v=e.documentElement,p=navigator.userAgent,b=t.requestAnimationFrame||function(t){setTimeout(t,1e3/60)},z=function(){function t(t){a.push(t),n()}function e(){a.shift()(),a.length?b(e):i=!1}function n(){i||(i=!0,b(e))}var a=[],i=!1;return{add:t}}(),A=function(){return v.classList?function(t,e){return t.classList.contains(e)}:function(t,e){return!!~t.className.split(/\s+/).indexOf(e)}}(),y=function(){return v.classList?function(t,e){t.classList.add(e)}:function(t,e){var n=t.className.split(/\s+/);~n.indexOf(e)||(n.push(e),t.className=n.join(" "))}}();(function(){v.classList?function(t,e){return t.classList.remove(e)}:function(t,e){var n=t.className.split(/\s+/),a=n.indexOf(e);~a&&(n.splice(a,1),t.className=n.join(" "))}})();if("[object OperaMini]"===Object.prototype.toString.call(t.operamini)){t.lazySizesConfig=t.lazySizesConfig||{},t.lazySizesConfig.init=!1,y(v,"operamini");var C=function(e){var n=e.getElementsByTagName("source"),a=e[c](m)[0];if(y(e,u),t.HTMLPictureElement){for(var i=0,r=n.length;i<r;i++){var o=n[i];o.hasAttribute("data-srcset")&&(o.srcset=o.getAttribute("data-srcset")),o.hasAttribute("data-src")&&(o.src=o.getAttribute("data-src"))}a.hasAttribute("data-srcset")&&(a.srcset=a.getAttribute("data-srcset")),a.hasAttribute("data-src")&&(a.src=a.getAttribute("data-src"))}else{for(var s=n.length>0?n[n.length-1]:a,l=s.getAttribute("data-srcset").split(/,\s+/);n.length>0;)n[0].parentNode.removeChild(n[0]);a.src=l.pop().replace(/\s+\d+[wx]$/,"")}};return void function(t){"loading"!=e.readyState?t():e.addEventListener("DOMContentLoaded",t)}(function(){for(var t=e[c](d),n=0,a=t.length;n<a;n++)C(t[n])})}var E=new RegExp("-placeholder:([a-z0-9_-]+)\\s*","i"),x={};if(t.CanvasRenderingContext2D){var w=p.indexOf("Safari")!==-1&&p.indexOf("Chrome")===-1;("imageRendering"in v.style||"msInterpolationMode"in v.style)&&!w||(x.mosaic=function(t){var n=e.createElement("canvas"),a=n.getContext("2d"),i=t[c](h)[0];o(i,function(){s(n,a);var e=i.naturalWidth,r=i.naturalHeight,o=t.offsetWidth,l=t.offsetWidth/e*r+.5|0;n.width=o,n.height=l,a.mozImageSmoothingEnabled=!1,a.webkitImageSmoothingEnabled=!1,a.msImageSmoothingEnabled=!1,a.imageSmoothingEnabled=!1,n.setAttribute("aria-hidden",!0),n.className=i.className,z.add(function(){a.drawImage(i,0,0,o,l),i.parentNode.replaceChild(n,i)})})});var L=function(t,n,a,i){var r=t[c](h)[0],s=function(){var o=r.naturalWidth,s=r.naturalHeight,l=t.offsetWidth,c=t.offsetWidth/o*s+.5|0,d=e.createElement("canvas"),u=d.getContext("2d"),f=A(t,"-alpha");d.width=l,d.height=c,!f&&"mozOpaque"in d&&(d.mozOpaque=!0),d.setAttribute("aria-hidden",!0),d.className=r.className,z.add(function(){u.drawImage(r,0,0,l,c),stackBlur[f?"canvasRGBA":"canvasRGB"](d,0,0,l,c,n,a,i),r.parentNode.replaceChild(d,r)})};o(r,function(){s()})};x.blurred=function(t){L(t,15,512,17)},x.lqip=function(t){L(t,7,512,15)};var N=function(t,e,a){a=!!a;var i=t.getContext("2d"),r=i.getImageData(0,0,t.width,t.height),o=r.data,l=r.width,c=r.height,d=l-1,u=c-1,f=n.round(e*(n.sqrt(3)/2)),g=f/2,m=e/2;s(t,i);var h,v,p,b,z,A,y,C,E,x,w,L,N,S,M,O,B,W=function(t,n,a,r){r=r||!1;var o=t+(r?0:f);i.beginPath(),i.moveTo(o,n+0),i.lineTo(t+(r?f:0),n+m),i.lineTo(o,n+e),i.fill(),i.closePath()},I=function(t,e){var n=e*l*4+4*t;return[o[n],o[n+1],o[n+2],o[n+3]]},R=function(t,e){return o[e*l*4+4*t+3]},T=function(t){for(var e=0,n=0,a=t.length;n<a;n++)e+=R(t[n][0],t[n][1]);return e/a},D=function(t){return"rgb("+t.slice(0,3).join(",")+")"},_=function(t){return t[3]/=255,"rgba("+t.join(",")+")"},k=function(t){return n.max(0,n.min(n.round(t),d))},P=function(t){return n.max(0,n.min(n.round(t),u))},q=n.ceil(l/f)+1,H=n.ceil(c/e)+1;if(a){for(v=0;v<H;v++)for(b=v*e,A=P(b+m),y=b-m,x=P(b),h=0;h<q;h++)p=h*f,S=h%2!=0,k(p),z=P(b),E=k(S?p+f-1:p),C=k(S?p:p+f-1),L=k(p+g),N=P(b+m),M=[[C,z],[E,N],[C,P(b+e-1)],[L,N],[L,N]],O=T(M)+.5|0,i.fillStyle=_([O,0,0,255]),i.fillRect(p,b,f,e),M=[[C,P(b-m)],[E,z],[C,P(b+m-1)],[L,z],[L,z]],O=T(M)+.5|0,i.fillStyle=_([O,0,0,255]),W(p,y,0,S);var F=i.getImageData(0,0,t.width,t.height),$=F.data,j=$.length;for(B=0;B<j;B+=4)$[B+3]=$[B];i.putImageData(F,0,0),i.globalCompositeOperation="source-atop"}for(v=0;v<H;v++)for(b=v*e,A=P(b+m),y=b-m,x=P(b),h=0;h<q;h++)p=h*f,w=k(p+g),S=h%2!=0,i.fillStyle=D(I(w,A)),i.fillRect(p,b,f,e),i.fillStyle=D(I(w,x)),W(p,y,0,S);a&&(i.globalCompositeOperation="source-over")};x.triangles=function(t){var a=t[c](h)[0],i=function(){var i=a.naturalWidth,r=a.naturalHeight,o=t.offsetWidth,s=n.round(t.offsetWidth/i*r),l=e.createElement("canvas"),c=l.getContext("2d"),d=A(t,"-alpha");l.width=o,l.height=s,!d&&"mozOpaque"in l&&(l.mozOpaque=!0),l.setAttribute("aria-hidden",!0),l.className=a.className,z.add(function(){c.drawImage(a,0,0,o,s),N(l,40,d),a.parentNode.replaceChild(l,a)})};o(a,function(){i()})}}(function(){function n(){for(var t,e,n=0,a=i.length;n<a;n++)i[n]&&(e=i[n],A(e,g)||(t=l(e))&&x[t]&&(y(e,g),x[t](e)))}function a(){e.addEventListener("lazybeforeunveil",function(t){var e=t.target,n=e.parentNode;if(A(e,m)){for(;!A(n,d);)n=n.parentNode;var a=function(){e.removeEventListener("load",a),b(function(){y(n,u)})};e.addEventListener("load",a)}}),i=e[c](f),t.MutationObserver?new t.MutationObserver(o).observe(v,{childList:!0,subtree:!0,attributes:!1,characterData:!1}):(v.addEventListener("DOMNodeInserted",o,!0),v.addEventListener("DOMAttrModified",o,!0),setInterval(o,999)),t.addEventListener("hashchange",o,!0),o()}var i,o=r(n);return{init:a}})().init()}}(window,document,Math,Date),function(t){var e=navigator.userAgent;t.HTMLPictureElement&&/ecko/.test(e)&&e.match(/rv\:(\d+)/)&&RegExp.$1<41&&addEventListener("resize",function(){var e,n=document.createElement("source"),a=function(t){var e,a,i=t.parentNode;"PICTURE"===i.nodeName.toUpperCase()?(e=n.cloneNode(),i.insertBefore(e,i.firstElementChild),setTimeout(function(){i.removeChild(e)})):(!t._pfLastSize||t.offsetWidth>t._pfLastSize)&&(t._pfLastSize=t.offsetWidth,a=t.sizes,t.sizes+=",100vw",setTimeout(function(){t.sizes=a}))},i=function(){var t,e=document.querySelectorAll("picture > img, img[srcset][sizes]");for(t=0;t<e.length;t++)a(e[t])},r=function(){clearTimeout(e),e=setTimeout(i,99)},o=t.matchMedia&&matchMedia("(orientation: landscape)"),s=function(){r(),o&&o.addListener&&o.addListener(r)};return n.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?s():document.addEventListener("DOMContentLoaded",s),r}())}(window),function(t){"use strict";var e,n,a,i;t.addEventListener&&(e=t.lazySizes&&lazySizes.cfg||t.lazySizesConfig||{},n=e.lazyClass||"lazyload",a=function(){var e,a;if("string"==typeof n&&(n=document.getElementsByClassName(n)),t.lazySizes)for(e=0,a=n.length;e<a;e++)lazySizes.loader.unveil(n[e])},addEventListener("beforeprint",a,!1),!("onbeforeprint"in t)&&t.matchMedia&&(i=matchMedia("print"))&&i.addListener&&i.addListener(function(){i.matches&&a()}))}(window),function(t,e){var n=function(t,e){"use strict";if(e.getElementsByClassName){var n,a=e.documentElement,i=t.Date,r=t.HTMLPictureElement,o=t.addEventListener,s=t.setTimeout,l=t.requestAnimationFrame||s,c=t.requestIdleCallback,d=/^picture$/i,u=["load","error","lazyincluded","_lazyloaded"],f={},g=Array.prototype.forEach,m=function(t,e){return f[e]||(f[e]=new RegExp("(\\s|^)"+e+"(\\s|$)")),f[e].test(t.getAttribute("class")||"")&&f[e]},h=function(t,e){m(t,e)||t.setAttribute("class",(t.getAttribute("class")||"").trim()+" "+e)},v=function(t,e){var n;(n=m(t,e))&&t.setAttribute("class",(t.getAttribute("class")||"").replace(n," "))},p=function(t,e,n){var a=n?"addEventListener":"removeEventListener";n&&p(t,e),u.forEach(function(n){t[a](n,e)})},b=function(t,n,a,i,r){var o=e.createEvent("CustomEvent");return o.initCustomEvent(n,!i,!r,a||{}),t.dispatchEvent(o),o},z=function(e,a){var i;!r&&(i=t.picturefill||n.pf)?i({reevaluate:!0,elements:[e]}):a&&a.src&&(e.src=a.src)},A=function(t,e){return(getComputedStyle(t,null)||{})[e]},y=function(t,e,a){for(a=a||t.offsetWidth;a<n.minSize&&e&&!t._lazysizesWidth;)a=e.offsetWidth,e=e.parentNode;return a},C=function(){var t,n,a=[],i=function(){var e;for(t=!0,n=!1;a.length;)e=a.shift(),e[0].apply(e[1],e[2]);t=!1},r=function(r){t?r.apply(this,arguments):(a.push([r,this,arguments]),n||(n=!0,(e.hidden?s:l)(i)))};return r._lsFlush=i,r}(),E=function(t,e){return e?function(){C(t)}:function(){var e=this,n=arguments;C(function(){t.apply(e,n)})}},x=function(t){var e,n=0,a=666,r=function(){e=!1,n=i.now(),t()},o=c?function(){c(r,{timeout:a}),666!==a&&(a=666)}:E(function(){s(r)},!0);return function(t){var r;(t=t===!0)&&(a=44),e||(e=!0,r=125-(i.now()-n),r<0&&(r=0),t||r<9&&c?o():s(o,r))}},w=function(t){var e,n,a=function(){e=null,t()},r=function(){var t=i.now()-n;t<99?s(r,99-t):(c||a)(a)};return function(){n=i.now(),e||(e=s(r,99))}},L=function(){var r,l,c,u,f,y,L,S,M,O,B,W,I,R,T,D=/^img$/i,_=/^iframe$/i,k="onscroll"in t&&!/glebot/.test(navigator.userAgent),P=0,q=0,H=-1,F=function(t){q--,t&&t.target&&p(t.target,F),(!t||q<0||!t.target)&&(q=0)},$=function(t,n){var i,r=t,o="hidden"==A(e.body,"visibility")||"hidden"!=A(t,"visibility");for(M-=n,W+=n,O-=n,B+=n;o&&(r=r.offsetParent)&&r!=e.body&&r!=a;)(o=(A(r,"opacity")||1)>0)&&"visible"!=A(r,"overflow")&&(i=r.getBoundingClientRect(),o=B>i.left&&O<i.right&&W>i.top-1&&M<i.bottom+1);return o},j=function(){var t,i,o,s,d,u,g,m,h;if((f=n.loadMode)&&q<8&&(t=r.length)){i=0,H++,null==R&&("expand"in n||(n.expand=a.clientHeight>500&&a.clientWidth>500?500:370),I=n.expand,R=I*n.expFactor),P<R&&q<1&&H>2&&f>2&&!e.hidden?(P=R,H=0):P=f>1&&H>1&&q<6?I:0;for(;i<t;i++)if(r[i]&&!r[i]._lazyRace)if(k)if((m=r[i].getAttribute("data-expand"))&&(u=1*m)||(u=P),h!==u&&(L=innerWidth+u*T,S=innerHeight+u,g=u*-1,h=u),o=r[i].getBoundingClientRect(),(W=o.bottom)>=g&&(M=o.top)<=S&&(B=o.right)>=g*T&&(O=o.left)<=L&&(W||B||O||M)&&(c&&q<3&&!m&&(f<3||H<4)||$(r[i],u))){if(Y(r[i]),d=!0,q>9)break}else!d&&c&&!s&&q<4&&H<4&&f>2&&(l[0]||n.preloadAfterLoad)&&(l[0]||!m&&(W||B||O||M||"auto"!=r[i].getAttribute(n.sizesAttr)))&&(s=l[0]||r[i]);else Y(r[i]);s&&!d&&Y(s)}},G=x(j),U=function(t){h(t.target,n.loadedClass),v(t.target,n.loadingClass),p(t.target,Q)},K=E(U),Q=function(t){K({target:t.target})},J=function(t,e){try{t.contentWindow.location.replace(e)}catch(n){t.src=e}},V=function(t){var e,a,i=t.getAttribute(n.srcsetAttr);(e=n.customMedia[t.getAttribute("data-media")||t.getAttribute("media")])&&t.setAttribute("media",e),i&&t.setAttribute("srcset",i),e&&(a=t.parentNode,a.insertBefore(t.cloneNode(),t),a.removeChild(t))},X=E(function(t,e,a,i,r){var o,l,c,f,m,A;(m=b(t,"lazybeforeunveil",e)).defaultPrevented||(i&&(a?h(t,n.autosizesClass):t.setAttribute("sizes",i)),l=t.getAttribute(n.srcsetAttr),o=t.getAttribute(n.srcAttr),r&&(c=t.parentNode,f=c&&d.test(c.nodeName||"")),A=e.firesLoad||"src"in t&&(l||o||f),m={target:t},A&&(p(t,F,!0),clearTimeout(u),u=s(F,2500),h(t,n.loadingClass),p(t,Q,!0)),f&&g.call(c.getElementsByTagName("source"),V),l?t.setAttribute("srcset",l):o&&!f&&(_.test(t.nodeName)?J(t,o):t.src=o),(l||f)&&z(t,{src:o})),C(function(){t._lazyRace&&delete t._lazyRace,v(t,n.lazyClass),A&&!t.complete||(A?F(m):q--,U(m))})}),Y=function(t){var e,a=D.test(t.nodeName),i=a&&(t.getAttribute(n.sizesAttr)||t.getAttribute("sizes")),r="auto"==i;(!r&&c||!a||!t.src&&!t.srcset||t.complete||m(t,n.errorClass))&&(e=b(t,"lazyunveilread").detail,r&&N.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,q++,X(t,e,r,i,a))},Z=function(){if(!c){if(i.now()-y<999)return void s(Z,999);var t=w(function(){n.loadMode=3,G()});c=!0,n.loadMode=3,G(),o("scroll",function(){3==n.loadMode&&(n.loadMode=2),t()},!0)}};return{_:function(){y=i.now(),r=e.getElementsByClassName(n.lazyClass),l=e.getElementsByClassName(n.lazyClass+" "+n.preloadClass),T=n.hFac,o("scroll",G,!0),o("resize",G,!0),t.MutationObserver?new MutationObserver(G).observe(a,{childList:!0,subtree:!0,attributes:!0}):(a.addEventListener("DOMNodeInserted",G,!0),a.addEventListener("DOMAttrModified",G,!0),setInterval(G,999)),o("hashchange",G,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(t){e.addEventListener(t,G,!0)}),/d$|^c/.test(e.readyState)?Z():(o("load",Z),e.addEventListener("DOMContentLoaded",G),s(Z,2e4)),r.length?j():G()},checkElems:G,unveil:Y}}(),N=function(){var t,a=E(function(t,e,n,a){var i,r,o;if(t._lazysizesWidth=a,a+="px",t.setAttribute("sizes",a),d.test(e.nodeName||""))for(i=e.getElementsByTagName("source"),r=0,o=i.length;r<o;r++)i[r].setAttribute("sizes",a);n.detail.dataAttr||z(t,n.detail)}),i=function(t,e,n){var i,r=t.parentNode;r&&(n=y(t,r,n),i=b(t,"lazybeforesizes",{width:n,dataAttr:!!e}),i.defaultPrevented||(n=i.detail.width)&&n!==t._lazysizesWidth&&a(t,r,i,n))},r=function(){var e,n=t.length;if(n)for(e=0;e<n;e++)i(t[e])},s=w(r);return{_:function(){t=e.getElementsByClassName(n.autosizesClass),o("resize",s)},checkElems:s,updateElem:i}}(),S=function(){S.i||(S.i=!0,N._(),L._())};return function(){var e,a={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2};n=t.lazySizesConfig||t.lazysizesConfig||{};for(e in a)e in n||(n[e]=a[e]);t.lazySizesConfig=n,s(function(){n.init&&S()})}(),{cfg:n,autoSizer:N,loader:L,init:S,uP:z,aC:h,rC:v,hC:m,fire:b,gW:y,rAF:C}}}(t,t.document);t.lazySizes=n,"object"==typeof module&&module.exports&&(module.exports=n)}(window);